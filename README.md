# Проектная работа "Веб-ларек"
Интернет-магазин с товарами для веб-разработчиков — "Web-ларёк".

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код
UML диаграмма в корне проекта в файле "Диаграмма UML.png"

<h1>Класс Product List</h1>
Класс служит для представления коллекции продуктов с различными атрибутами, такими как идентификатор, название, категория, описание, цена и изображение. 

Основное назначение класса — предоставление удобного способа хранения, отображения и управления списком продуктов.

<b>Свойства:</b>
1. Общее количество продуктов (total): указывает, сколько всего продуктов в списке.
2. Элементы списка (items): массив объектов, где каждый объект представляет отдельный продукт со следующими атрибутами:
- ID: уникальный идентификатор продукта.
- Название (title): название продукта.
- Категория (category): тип продукта.
- Описание (description): дополнительная информация о продукте.
- Цена (price): стоимость продукта.
- Изображение (image): ссылка на изображение продукта.

<b>Методы:</b>
getAllProducts()
- Возвращает весь список доступных товаров.
- Используется на главной странице для отображения каталога.

getProductById(productId)
- Ищет и возвращает данные конкретного товара по его уникальному идентификатору.
- Используется для загрузки детальной информации о товаре в модальном окне.
- Возвращает null или выбрасывает ошибку, если продукт не найден


<h1>Класс Product Item</h1>
Класс представляет собой модель данных, которая описывает отдельный продукт в каталоге.

Класс предназначен для структурированного представления продуктов, чтобы их можно было легко обработать, отобразить или сохранить. Он упрощает работу с данными в контексте интернет-магазина.
<b>Свойства:</b>
1. ID: уникальный идентификатор продукта.
2. Название (title): название продукта.
3. Категория (category): тип продукта.
4. Описание (description): дополнительная информация о продукте.
5. Цена (price): стоимость продукта.
6. Изображение (image): ссылка на изображение продукта.

<b>Методы:</b>
getDetails()
- Возвращает все свойства товара (название, описание, цену, изображение и т. д.).


<h1>Класс Order</h1>
Класс представляет собой структуру, которая описывает информацию о заказе.

Класс предназначен для представления и хранения информации о заказах. Он может быть частью системы управления продажами или интернет-магазина

<b>Свойства:</b>
1. Оплата (payment): Описывает способ оплаты заказа.
2. Электронная почта (email): Указывает email покупателя.
3. Телефон (phone): Хранит номер телефона покупателя.
4. Адрес (address): Указывает адрес доставки заказа.
5. Общая стоимость (total): Сумма, показывающая общую стоимость заказа.
6. Список товаров (items): Содержит идентификаторы продуктов, которые входят в заказ.

<b>Методы:</b>
startOrder(cart)
- Инициализирует процесс оформления заказа на основе содержимого корзины.

setPaymentAddressMethod()
- Устанавливает способ оплаты (например, "наличные" или "онлайн") и адрес доставки.
- Если адрес или способ оплаты не указан, уведомление об ошибке.

setCustomerDetails(email, phone)
- Сохраняет информацию о покупателе (почта и телефон).
- Генерирует ошибку, если поля не заполнены.

finalizeOrder()
- Проверяет заполненность всех необходимых данных.
- Возвращает сообщение об успешной оплате и удаляет товары из корзины.

validateInput(field, value)
- Проверяет корректность введённых данных, таких как адрес, почта и телефон.


<h1>Класс Cart</h1>
Класс Cart (корзина) отвечает за управление товарами, добавленными пользователем, а также за оформление заказа.

<b>Свойства:</b>
1. items: Содержит список всех товаров, добавленных в корзину.
2. totalPrice: Общая сумма стоимости всех товаров в корзине.
3. quantity: Общее количество товаров в корзине.
4. isEmpty: Указывает, пуста ли корзина.

<b>Методы:</b>
addItem(product):
- Добавляет товар в корзину. Если товар уже есть, увеличивает его количество.
- При нажатии на кнопку покупки.

removeItem(productId):
- Удаляет товар из корзины по его идентификатору.
- При нажатии на кнопку удаления.

calculateTotal():
- Пересчитывает общую стоимость товаров в корзине.
- После добавления или удаления товара

clearCart():
- Очищает корзину, удаляя все товары.
- При оформлении заказа или вручную

getItems():
- Возвращает список всех товаров в корзине.
- Для отображения содержимого корзины

isInCart(productId):
- Проверяет, находится ли товар с указанным идентификатором в корзине.
- Для предотвращения повторного добавления


<h1>Связи между классами</h1>

Product List и Product Item: 
- Product List содержит несколько Product Item (продуктов).

Cart и Product Item: 
- Cart управляет объектами Product Item через методы добавления, удаления и проверки.

Order и Cart:
- Order использует корзину (Cart) для оформления заказа.

## Паттерн программирования
Model:
- Классы Product List, Product Item, Cart, Order образуют часть Model. 
- Управляют данными и предоставляют их презентеру.

View:
- View отображает интерфейс (например, каталог товаров и корзину). 
- Реагирует на действия пользователя, такие как нажатие кнопки.

Presenter (Презентер (брокер событий) связывает View и Model):
- Обрабатывает события от View (например, добавление товара в корзину).
- Передаёт данные из Model в View для отображения.

<h1>Функции View</h1>
View отвечает за отображение интерфейса и обработку действий пользователя.

renderProductList(products):
- Отображает каталог продуктов на главной странице.

showProductDetails(product):
- Открывает модальное окно с детальной информацией о выбранном продукте.

renderCart(cartItems):
- Отображает содержимое корзины.

showCart():
- Открывает модальное окно корзины.

showOrderForm():
- Показывает интерфейс для оформления заказа.

showErrorMessage(message):
- Отображает сообщение об ошибке, например, если адрес доставки не введён или поля заказа не заполнены.

closeModal():
- Закрывает любое модальное окно (например, корзину или детали продукта).

updateCartIcon(cartItems):
- Обновляет визуальное состояние и количество товаров в иконке корзины.

<h1>Функции Presenter</h1>
Presenter управляет взаимодействием между Model и View, обрабатывает события от View и отправляет команды Model.

loadProducts():
- Загружает список продуктов из Model и передаёт его View для отображения.

showProductDetails(productId):
- Получает данные продукта из Model и вызывает метод View для отображения деталей.

addProductToCart(productId):
- Добавляет выбранный продукт в корзину через Model и обновляет View.

removeProductFromCart(productId):
- Удаляет продукт из корзины через Model и обновляет View.

checkout(cart, paymentMethod, address, email, phone):
- Передаёт данные заказа в Model для создания заказа и обновляет View.

validateOrderDetails(address, email, phone):
- Проверяет корректность введённых данных через Model и передаёт результат View.

updateCartIcon():
- Запрашивает данные корзины из Model и обновляет состояние иконки корзины в View.

handleUserActions(action, data):
- Универсальная функция для обработки любых действий пользователя (например, кликов, ввода данных).